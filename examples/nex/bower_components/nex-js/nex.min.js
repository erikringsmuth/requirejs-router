!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):e.Nex=t(e.b)}(this,function(){"use strict";var e={defineComponent:function(t,n){"undefined"==typeof n&&(n={});var o=function(){var o=document.createElement(n.tagName||"component");o.componentName=t,o.setAttribute("name",t);var r=!1;for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);"object"!=typeof o.components&&(o.components=[]);var a={},l=function(e,t){var n=o.querySelector('component [name="'+t+'"]');n&&n.parentElement.replaceChild(e,n)};o.registerComponent=function(e,t){"undefined"==typeof t&&(t=e.componentName),"function"==typeof e&&(e=new e),a[t]=e,r&&l(e,t)};for(var u=0;u<o.components.length;u++)o.registerComponent(o.components[u]);if("undefined"!=typeof o.layout&&("function"==typeof o.layout&&(o.layout=new o.layout),o.layout.registerComponent(o,"content-placeholder")),"undefined"!=typeof o.outerEl)throw"outerEl is a read only property that is automatically populated.";o.outerEl=o.layout?o.layout.outerEl:o,"undefined"==typeof o.model&&(o.model={}),"undefined"==typeof o.template&&(o.template=function(){return console.log("You should implement `component.template()`."),""});var f,p=function(){return("function"==typeof f||"function"==typeof o.model)&&("function"!=typeof f&&(f=o.model),o.model=new f),"function"==typeof o.template?o.html(o.template(o)):"string"==typeof o.template&&o.html(o.template),o};"undefined"!=typeof o.render&&(p=o.render),o.render=function(){var e=p.call(o,arguments);for(var t in a)a.hasOwnProperty(t)&&l(a[t],t);return r=!0,e},o.html=function(t){if(e.utilities.html5)o.innerHTML=t;else{var n=document.createElement("div");for(n.innerHTML=t;o.firstChild;)o.removeChild(o.firstChild);for(;n.firstChild;)o.appendChild(n.firstChild)}c(e.utilities.parseEventTypes(t))},o.attachTo=function(t){var n;if("string"==typeof t)n=document.querySelector(t);else{if(!t.appendChild)throw"You can't attach the component to "+t;n=t}if(e.utilities.html5)n.innerHTML="";else for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(o.outerEl)},"undefined"==typeof o.remove&&(o.remove=function(){null!==o.parentElement&&o.parentElement.removeChild(o)}),o.dispatchEvent=function(e){if(!e._outOfOriginatingViewScope){e.target||(e.target=e.srcElement);for(var t=e.target.attributes,n=0;n<t.length;n++)"on-"===t[n].name.substring(0,3)&&t[n].name.substring(3)===e.type&&o[t[n].value].call(o,e);e._outOfOriginatingViewScope=!0}};var d={},c=function(t){for(var n=0;n<t.length;n++){var r=t[n];d[r]||(window.addEventListener?e.utilities.captureOnlyEventTypes[r]?o.addEventListener(r,o.dispatchEvent,!0):o.addEventListener(r,o.dispatchEvent,!1):o.attachEvent("on"+r,o.dispatchEvent),d[r]=!0)}};return"function"==typeof o.ready&&o.ready.apply(o,arguments),o.autoRender!==!1&&o.render.call(o),o};return o.componentName=t,o},utilities:{html5:"querySelector"in document&&"localStorage"in window&&"addEventListener"in window,captureOnlyEventTypes:{blur:!0,focus:!0,mouseenter:!0,mouseleave:!0,resize:!0,scroll:!0},parseEventTypes:function(e){var t=e.match(/\son-\w+(?==")/g),n=[];if(t)for(var o=0;o<t.length;o++){var r=t[o].split("-").splice(1).join("-");-1===n.indexOf(r)&&n.push(r)}return n}}};return e});